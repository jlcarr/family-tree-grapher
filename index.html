<!DOCTYPE html>
<html>
<head>
<title>Family Tree Grapher</title>
<script src="scripts/GEDCOM2SVG.js"></script>
</head>


<body>
<h1>Family Tree Grapher</h1>

<h2>Description</h2>
<p>
This tool will render a GEDCOM file to SVG format.
</p>

<h2>Inputs</h2>
<h3>Select File</h2>
<button onclick="loadDefault();">Load default</button>
<br/>or<br/>
<input type="file" id="file-input"/>
<h3>Select Greatest Ancestor</h2>
<div style="border:1px solid black; height:100px; overflow:scroll;">
	<ul id="ancestor-list"></ul>
</div>

<h2>Result</h2>
<div style="border:1px solid black;width: 800;height:800; overflow:scroll;" id="file-image"></div>
</body>


<script>
function loadDefault() {
	fetch('template.GED')
		.then(response =>
			render_family_tree(response.text(), document.getElementById('file-image')));
}


function readSingleFile(e) {
	var file = e.target.files[0];
	if (!file) return;
	
	var reader = new FileReader();
	reader.onload = (e) => get_individuals_list(e.target.result, document.getElementById('ancestor-list'));
	reader.readAsText(file);
}


document.getElementById('file-input')
	.addEventListener('change', readSingleFile, false);
</script>
</html>

